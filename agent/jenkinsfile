pipeline {
    agent none
    stages{
        stage('Build') {
            agent {
                label 'Slave_2'
            }
                steps {
                    sh 'sleep 10'
                }

        }
    
       
        stage('Test') {
            agent {
                label 'Slave_1'
            }
            catchError (buildResult : 'SUCCESS', stageResult : 'FAILED') {
                steps {
                    sh '''
                        sleep 10
                        exit 1
                        '''
                }
            }
                
        }
        stage('deploy') {
            agent {
                label 'Slave_2'
            }
                steps {
                    sh '''
                    #!/bin/bash
                    ls -lrt
                    sleep 10
                    '''
                }
        }
     } 
}